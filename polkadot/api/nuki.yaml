
# Namespace
namespace:
  type: input
  message: What do you want to call your namespace?
  default: polkadot

stack:
  type: stat
  input: api

# Network Name
network_name:
  type: list
  message: What network do you want to run on?
  choices:
    - kusama
    - mainnet

# Environment
environment:
  type: list
  message: What type of environment do you want to create??
  choices:
    - dev
    - test
    - stage
    - prod

# Providers
providers:
  type: checkbox
  message: What cloud providers do you want to deploy on?
  choices:
    - aws: AWS
    - azure: Azure
    - do: DigitalOcean
    - gcp: GCP

# Regions
# Aws
aws_regions_options_:
  type: aws_regions
  when: "{{ 'aws' in nuki.providers }}"

aws_regions_:
  type: checkbox
  message: Which AWS regions?
  choices: "{{ nuki.aws_regions_options_ }}"
  when: "{{ 'aws' in nuki.providers }}"

aws_provider:
  type: nukikata
  chdir: aws
  when: "{{ 'aws' in nuki.providers }}"
  loop: "{{ nuki.aws_regions_ }}"
  existing_context: "{{ nuki }}"

# GCP
gcp_regions_options_:
  type: gcp_regions
  when: "{{ 'gcp' in nuki.providers }}"

gcp_regions_:
  type: checkbox
  message: Which GCP regions?
  choices: "{{ nuki.gcp_regions_options_ }}"
  when: "{{ 'gcp' in nuki.providers and nuki.gcp_regions_options_ | length > 0 }}"

gcp_provider:
  type: nukikata
  chdir: gcp
  when: "{{ 'gcp' in nuki.providers }}"
  loop: "{{ nuki.gcp_regions_ }}"
  existing_context: "{{ nuki }}"

# Azure
azure_regions_options_:
  type: azure_regions
  when: "{{ 'azure' in nuki.providers }}"

azure_regions_:
  type: checkbox
  message: Which Azure regions?
  choices: "{{ nuki.azure_regions_options_ }}"
  when: "{{ 'azure' in nuki.providers }}"

azure_provider:
  type: nukikata
  chdir: azure
  when: "{{ 'azure' in nuki.providers }}"
  loop: "{{ nuki.azure_regions_ }}"
  existing_context: "{{ nuki }}"

# DigitalOcean
do_regions_options_:
  type: azure_regions
  when: "{{ 'azure' in nuki.providers }}"

do_regions_:
  type: checkbox
  message: Which Azure regions?
  choices: "{{ nuki.azure_regions_options_ }}"
  when: "{{ 'azure' in nuki.providers }}"

do_provider:
  type: nukikata
  chdir: do
  when: "{{ 'DigitalOcean' in nuki.providers }}"

